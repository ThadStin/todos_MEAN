<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="MyApp">
    <head>
        <meta charset="utf-8">
        <title></title>
        <!-- =============== ANGULAR ================= -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js" charset="utf-8"></script>
        <!-- =========== BOOTSTRAP ===============-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <!-- ============= APP.JS ================ -->
        <script src="/js/app.js" charset="utf-8"></script>
        <!-- ============ APP.CSS ================ -->
        <link rel="stylesheet" href="/css/app.css">
    </head>

    <body ng-controller="MyController as ctrl">
      <!-- =================== NEW TODO FORM ======================= -->
      <h1>TO DO LIST</h1>
      <div class="new">
        <form ng-submit="ctrl.createTodo()">
            <!-- {{ctrl.description}} - {{ctrl.complete}} -->
            <input ng-model="ctrl.description" type="text" placeholder="what do you need to do?"
                  class="form-control form-control-lg"/>
            <br>
            <span>Complete: <input type="checkbox" ng-model="ctrl.complete" class="check"/></span>
            <input type="submit" value="Create New To Do Item" class="btn btn-success"/>
        </form>
      </div>
      <!-- ======================================================== -->
      <small>* click on item to mark out as you complete task</small>
      <main>
        <!-- <ul>
            <li ng-repeat="todo in ctrl.todos"> -->
              <div ng-repeat="todo in ctrl.todos" class="todos">
                <!-- ================= TODO ITEM ==================== -->
                <div class="description">
                  <strong><span
                    ng-class="(todo.complete) ? 'complete' : 'incomplete' "
                    ng-click="ctrl.toggleTodoComplete(todo)">
                    {{todo.description}}
                  </span></strong>
                </div>
                <!-- ================================================ -->

                  <!-- =========== LINK TO SHOW EDIT FORM =========== -->
                <div class="editForm">
                  <a
                      ng-if="$index !== ctrl.indexOfEditFormToShow"
                      href="#"
                      ng-click="ctrl.indexOfEditFormToShow = $index">
                          Edit
                  </a>

                <!-- </div> -->
                  <!-- ========================================= -->
                  <!-- ============== EDIT FORM ================ -->
                <!-- <div> -->
                  <form ng-if="$index === ctrl.indexOfEditFormToShow"
                        ng-submit="ctrl.editTodo(todo);">
                      <input type="text" ng-model="ctrl.updatedDescription" placeholder="description" class="form-control form-control-lg"/>
                      <input type="submit" value="Update Description" class="btn btn-primary">
                  </form>
                </div>
                <!-- ============= DELETE BUTTON ================ -->
              <div class="delete">
                <button ng-click="ctrl.deleteTodo(todo)" class="btn btn-danger">Delete</button>
              </div>
                <!-- ============================================== -->
              </div>
            <!-- </li>
        </ul> -->
      </main>

    </body>
</html>
